---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "customercontrol_haproxy_rule Resource - terraform-provider-customercontrol"
subcategory: ""
description: |-
  Manages HAProxy rule
---

# customercontrol_haproxy_rule (Resource)

Manages HAProxy rule

## Example Usage

```terraform
// Simple-forward kind
resource "customercontrol_haproxy_rule" "simple-forward" {
  domain_name = "test.example.com"
  setup_kind  = "simple-forward"

  setup_configuration {
    backend      = "redirect.example.io"
    is_ssl       = true
    backend_port = 443
    set_host     = true
  }
}

// Multi-forward kind
resource "customercontrol_haproxy_rule" "multi-forward" {
  domain_name = "text.example.com"
  setup_kind  = "multi-forward"

  setup_configuration_multi_forward {
    servers {
      url    = "redirect-1.example.io"
      is_ssl = true
      port   = 443
    }
    servers {
      url    = "redirect-2.example.io"
      is_ssl = true
      port   = 443
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **domain_name** (String) Domain name to create the rule for
- **setup_kind** (String) Rule kind

### Optional

- **id** (String) The ID of this resource.
- **manage_certificate** (Boolean) Generates new SSL certificate for custom domain via LetsEncrypt and auto-renews it if true Defaults to `false`.
- **setup_configuration** (Block Set, Max: 1) Rule configuration for simple-forward kind (see [below for nested schema](#nestedblock--setup_configuration))
- **setup_configuration_multi_forward** (Block Set, Max: 1) Rule configuration for multi-forward kind (see [below for nested schema](#nestedblock--setup_configuration_multi_forward))
- **timeouts** (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- **domain_id** (Number) ID of Domain created with the rule
- **valid_until** (String) SSL certificate validity if manage_certificate was set to true
- **virtual_host_id** (Number) ID of VirtualHost created with the rule

<a id="nestedblock--setup_configuration"></a>
### Nested Schema for `setup_configuration`

Optional:

- **backend** (String) Backend address or IP to redirect requests to
- **backend_port** (Number) Backend port
- **is_ssl** (Boolean) Enables SSL if true; terminates SSL if false
- **set_host** (Boolean) Passes host name in the request header to target backends if true


<a id="nestedblock--setup_configuration_multi_forward"></a>
### Nested Schema for `setup_configuration_multi_forward`

Optional:

- **load_balance** (String) Describes the load balance algorithm used Defaults to `RoundRobin`.
- **servers** (Block Set) List of backends (see [below for nested schema](#nestedblock--setup_configuration_multi_forward--servers))
- **set_host** (Boolean) Passes host name in the request header to target backends if true Defaults to `false`.

<a id="nestedblock--setup_configuration_multi_forward--servers"></a>
### Nested Schema for `setup_configuration_multi_forward.servers`

Optional:

- **is_ssl** (Boolean) Enables SSL if true; terminates SSL if false
- **port** (Number) Backend port
- **url** (String) Backend address or IP to redirect requests to



<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- **create** (String)


